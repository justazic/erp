{% extends "base.html" %}

{% block title %}Submit Assignment | TOTC{% endblock %}

{% block content %}
    <section class="section section--soft">
        <div class="container">
            <div class="center" style="margin-bottom: 48px;">
                <h2 class="h2">Submit <span class="accent">Work</span></h2>
                <p class="muted">Upload your completed assignment for review.</p>
            </div>

            <div style="max-width: 600px; margin: 0 auto;">
                <div class="card" style="background: #fff; padding: 40px; border-radius: 20px; box-shadow: var(--shadow); margin-bottom: 24px;">
                    <div style="margin-bottom: 24px; padding-bottom: 16px; border-bottom: 1px solid #eee;">
                        <span class="badge" style="margin-bottom: 8px;">Assignment</span>
                        <h3 style="margin: 0; font-size: 24px;">{{ assignment.title }}</h3>
                        <p class="tiny muted" style="margin-top: 8px;">Deadline: {{ assignment.deadline|date:"M d, Y H:i" }}</p>
                    </div>

                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}

                        <div style="margin-bottom: 24px;">
                            <label class="small" style="display: block; margin-bottom: 8px; font-weight: 600;">Upload File</label>
                            <input type="file" name="file" required 
                                   style="width: 100%; padding: 12px; border-radius: 10px; border: 2px dashed #ddd; background: #f9f9f9;">
                            <p class="tiny muted" style="margin-top: 8px;">Please upload your work in PDF, ZIP or DOCX format.</p>
                        </div>

                        <div style="margin-bottom: 32px;">
                            <label class="small" style="display: block; margin-bottom: 8px; font-weight: 600;">Comment (Optional)</label>
                            <textarea name="comment" rows="4" placeholder="Any notes for the teacher?" 
                                      style="width: 100%; padding: 12px 16px; border-radius: 10px; border: 1px solid #ddd; font-family: inherit; resize: vertical;"></textarea>
                        </div>

                        <div style="display: flex; gap: 16px;">
                            <button type="submit" class="btn btn--pill btn--primary" style="flex: 1;">Submit Assignment</button>
                            <a href="{% url 'tasks:assignment_list' %}" class="btn btn--pill btn--white" style="flex: 1; border: 1px solid #ddd;">Cancel</a>
                        </div>
                    </form>
                </div>

                <div class="card" style="background: var(--soft); padding: 24px; border-radius: 20px; border: 1px dashed var(--teal);">
                    <h4 class="small" style="font-weight: 700; margin-bottom: 12px;">Assignment Description:</h4>
                    <p class="muted small">{{ assignment.description|linebreaks }}</p>
                </div>
            </div>
        </div>
    </section>
{% endblock %}